  /***** 変数定義*******************************************/
  :root {
      --out-width: 95%;
      /*メインの幅*/
      --side-menu-top: 100px;
      /* ヘッダーの高さに合わせて調整 */
      /*サイドメニューのTopの位置*/
      --main-padding: 30px;
      /*メイン記事の内側の空白の幅*/

      /* 新しい配色 */
      --header-bg: #2c3e50;
      /* 濃いブルーグレー */
      --header-text: #ffffff;
      --accent-color: #3498db;
      /* 明るいブルー */
      --link-color: #3498db;
      --link-visited-color: #8e44ad;
      /* 紫系 */
      --background-color: #f4f4f4;
      --text-color: #333333;
      --heading-color: #2c3e50;
      --border-color: #dddddd;
      --table-header-bg: #ecf0f1;
      /* 明るいグレー */
  }

  @media screen and (min-width:960px) {

      /*　画面サイズが960pxからはここを読み込む　*/
      :root {
          --out-width: 60%;
          /* 少し広げる */
          /*メインの幅*/
          --side-menu-top: 100px;
          /* ヘッダーの高さに合わせて調整 */
          /*サイドメニューのTopの位置*/
          --main-padding: 40px;
          /* 少し広げる */
          /*メイン記事の内側の空白の幅*/
      }
  }

  /***** default styles*******************************************/

  body {
      -webkit-text-size-adjust: 100%;
      font-size: 14px;
      /* 少し大きく */
      *font-size: small;
      /* IE7 */
      *font: x-small;
      /* IE6 */
  }

  * {
      line-height: 1.7;
      /* 少し広げる */
      font-size: 100%;
      box-sizing: border-box;
      /* paddingを含めて幅計算 */
  }

  /***** text styles*******************************************/

  html {
      padding: 0;
      margin: 0;
      scroll-behavior: smooth;
      /* スムーズスクロール */
  }

  body {
      -webkit-text-size-adjust: 100%;
      /* text-align: center; */
      color: var(--text-color);
      margin: 0 auto;
      background-color: var(--background-color);
      padding: 0;
      /* Google Fonts を適用 (別途HTMLでの読み込みが必要) */
      font-family: 'Noto Sans JP', "Hiragino Kaku Gothic Pro", "ヒラギノ角ゴ Pro W3", "メイリオ", Meiryo, "ＭＳ Ｐゴシック", sans-serif;
  }

  p {
      line-height: 1.9;
      text-align: justify;
      text-justify: distribute;
      margin-bottom: 1.2em;
      /* 段落下のマージン */
  }

  p,
  ul,
  ol,
  dl,
  table,
  pre {
      font-size: 100%;
      letter-spacing: 0.02em;
  }

  img {
      border: 0;
      vertical-align: bottom;
  }

  /***** Link styles*******************************************/

  #out a {
      text-decoration: none;
  }

  #out a:link {
      color: var(--link-color);
      border-bottom: 1px solid var(--link-color);
      transition: color 0.2s ease, border-color 0.2s ease;
      /* ホバー効果を滑らかに */
  }

  #out a:visited {
      color: var(--link-visited-color);
      border-bottom: 1px solid var(--link-visited-color);
  }

  #out a:hover {
      color: var(--accent-color);
      border-bottom: 1px solid var(--accent-color);
      opacity: 0.8;
  }

  /***** layout styles*******************************************/

  #out {
      margin: 20px auto 30px auto;
      /* 上下のマージン調整 */
      text-align: left;
      width: var(--out-width);
      border: 1px solid var(--border-color);
      /* 枠線を少し薄く */
      background-color: #ffffff;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      /* 影を追加 */
      border-radius: 8px;
      /* 角を少し丸める */
      overflow: hidden;
      /* 子要素がはみ出ないように */
  }

  #head {
      letter-spacing: 0.05em;
      /* 少し詰める */
      text-align: left;
      margin: 0;
      /* #outにpaddingがあるので不要に */
      padding: var(--main-padding);
      border-bottom: 1px solid var(--border-color);
      /* ヘッダーとの区切り線 */
      background-color: #f9f9f9;
      /* 少し背景色をつける */
  }

  #menu {
      text-align: right;
      font-size: 87%;
      color: #cccccc;
  }

  h1 {
      color: var(--heading-color);
      font-size: 2.2em;
      /* 少し調整 */
      font-weight: bold;
      margin: 0 0 10px 0;
      /* 下マージン調整 */
      padding: 0;
      /* Google Fonts を適用 (別途HTMLでの読み込みが必要) */
      font-family: 'Roboto', sans-serif;
  }

  h2 {
      font-size: 1em;
      /* 少し小さく */
      font-weight: normal;
      margin: 0 0 5px 0;
      /* 下マージン追加 */
      padding: 0;
      color: rgba(0, 0, 0, 0.6);
  }

  h3 {
      color: var(--heading-color);
      font-size: 1.6em;
      /* 少し調整 */
      border-bottom: 2px solid var(--accent-color);
      /* 下線をアクセントカラーに */
      padding-bottom: 0.3em;
      font-weight: bold;
      line-height: 1.4;
      font-feature-settings: "palt";
      margin-top: 2.5em;
      margin-bottom: 1.5em;
      /* マージン調整 */
      cursor: default;
      /* ポインター解除 */
      /* Google Fonts を適用 (別途HTMLでの読み込みが必要) */
      font-family: 'Roboto', sans-serif;
  }

  h4 {
      color: var(--heading-color);
      font-size: 1.3em;
      /* 少し調整 */
      border-bottom: 1px solid var(--border-color);
      /* 下線を通常色に */
      padding-bottom: 0.2em;
      font-weight: bold;
      line-height: 1.4;
      font-feature-settings: "palt";
      margin-top: 2em;
      margin-bottom: 1.2em;
      /* マージン調整 */
      cursor: default;
      /* ポインター解除 */
      /* Google Fonts を適用 (別途HTMLでの読み込みが必要) */
      font-family: 'Roboto', sans-serif;
  }

  h5 {
      color: var(--heading-color);
      font-size: 1.1em;
      /* 少し調整 */
      font-weight: bold;
      line-height: 1.4;
      font-feature-settings: "palt";
      margin-top: 1.8em;
      margin-bottom: 1em;
      /* マージン調整 */
      cursor: default;
      /* ポインター解除 */
      /* Google Fonts を適用 (別途HTMLでの読み込みが必要) */
      font-family: 'Roboto', sans-serif;
  }

  #main {
      letter-spacing: 0.05em;
      /* 少し詰める */
      font-size: 100%;
      /* body基準に */
      padding: var(--main-padding);
      /* paddingに変更 */
      margin: 0;
      /* #outにpaddingがあるので不要に */
      line-height: 1.8;
      /* 少し広げる */
  }

  #main_table {
      letter-spacing: 0.1em;
      font-size: 110%;
      margin: 0;
      line-height: 1.9;
  }

  #main ul {
      margin: 0 5px 5px 0;
      padding: 0px 0px 0px 20px;
      list-style: circle;
  }

  #main ol {
      margin: 0 5px 5px 0;
      padding: 0px 0px 0px 20px;
  }

  #main li {
      margin: 0.5em 0 0.5em 0;
      /* インデント調整 */
      letter-spacing: 0.02em;
      padding: 0.3em 0 0.3em 0.1em;
  }

  #footer {
      margin: 0;
      /* #outにpaddingがあるので不要に */
      padding: 2em var(--main-padding);
      /* 左右にもpadding */
      border-top: 1px solid var(--border-color);
      line-height: 1.9;
      text-align: center;
      letter-spacing: 0.1em;
      background-color: #f9f9f9;
      /* 少し背景色をつける */
      border-bottom-left-radius: 8px;
      /* #outの角丸に合わせる */
      border-bottom-right-radius: 8px;
  }

  .copyright {
      font-size: 75%;
      margin: 0 15px 0 0;
      padding: 5px 0 10px 0;
      text-align: right;
      color: #888888;
      letter-spacing: 0.1em;
  }

  .copyright a:link,
  a:visited,
  a:hover {
      color: #888888;
      border-bottom: none;
      text-decoration: none;
  }

  /* 表 */
  figure.table {
      /* table要素を囲むfigureに適用 */
      margin-left: calc(-1 * var(--main-padding));
      /* tableを幅いっぱいに広げる */
      margin-right: calc(-1 * var(--main-padding));
      padding: 0 var(--main-padding);
      margin-bottom: 2em;
      /* 下マージン */
  }

  table {
      border-collapse: collapse;
      margin: 0 auto;
      padding: 0;
      width: 100%;
      table-layout: fixed;
      border: 1px solid var(--border-color);
      /* 外枠線 */
      border-radius: 4px;
      /* テーブルの角を少し丸める */
      overflow: hidden;
      /* 角丸のため */
  }

  table tr {
      background-color: #fff;
      border-bottom: 1px solid var(--border-color);
      /* 水平線のみ */
      padding: 0.35em;
  }

  table tr:last-child {
      border-bottom: none;
      /* 最後の行の下線は消す */
  }

  table th,
  table td {
      word-wrap: break-word;
      padding: 0.8em 1em;
      /* パディング調整 */
      border-right: none;
      /* 縦線は消す */
      text-align: left;
      /* 左揃えに */
  }

  table td:not(:last-child),
  table th:not(:last-child) {
      border-right: 1px solid var(--border-color);
      /* 縦線を追加 */
  }

  table th {
      font-size: 0.9em;
      /* 少し調整 */
      font-weight: bold;
      /* 太字に */
      text-transform: uppercase;
      /* 大文字に */
      letter-spacing: 0.05em;
  }

  table thead tr {
      background-color: var(--table-header-bg);
      border-bottom: 2px solid var(--accent-color);
      /* ヘッダー下の線を強調 */
  }

  /* 表と図の自動採番 */
  figure.fig {
      counter-increment: fig-no;
      width: auto;
      text-align: center;
  }

  figcaption {
      margin-top: 10px;
      text-align: center;
      font-size: 0.9em;
      /* 少し小さく */
      color: #666;
      /* 少し薄く */
  }

  figcaption.fig-cap::before {
      content: "fig." counter(fig-no) " ";
  }

  figcaption.table-cap::before {
      content: "table." counter(table-no) " ";
  }

  /* コード埋め込み */
  pre {
      width: auto;
      /* 幅自動調整 */
      margin: 1.5em calc(-1 * var(--main-padding));
      /* マージン調整 */
      padding: 1em var(--main-padding);
      /* パディング調整 */
      position: relative;
      font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
      overflow-x: auto;
      /*目次がオーバーフローした場合、スクロールバーを出す*/
      background-color: #2d2d2d;
      /* 背景色変更 (desertスキンに合わせて) */
      border-radius: 4px;
      /* 角を丸める */
      line-height: 1.5;
      /* 行間調整 */
  }

  code {
      font-size: 0.95em;
      /* 少し調整 */
      line-height: 1.5;
      width: 100%;
      color: #ccc;
      /* 文字色調整 */
  }

  .sorcefile {
      position: absolute;
      top: 0;
      left: 3em;
      color: #eee;
      display: inline-block;
      background-color: #777;
      padding: 2px 4px;
  }

  i {
      cursor: pointer;
      position: absolute;
      top: 1em;
      right: 1em;
  }

  i::after {
      content: attr(data-content);
      color: #fff;
  }

  /* サイドメニュー関連 */
  #side-menu {
      text-align: left;
      position: fixed;
      top: var(--side-menu-top);
      /*縦位置の指定、高さを調整できるように変数で指定している。*/
      left: calc(100vw / 2 + var(--out-width) / 2 + 30px);
      /* 少し離す */
      /*横位置の指定、メイン記事の幅の変更に追従。*/
      width: 200px;
      /* 幅を指定 */
      z-index: 10;
      /* 必要に応じて調整 */
  }

  #side-menu a:link,
  #side-menu a:visited {
      color: #555;
      /* 少し濃く */
      text-decoration: none;
      display: block;
      /* ブロック要素にしてクリックしやすく */
      padding: 4px 10px;
      /* パディング追加 */
      border-left: 3px solid transparent;
      /* アクティブ表示用 */
      transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
  }

  #side-menu a:hover {
      background-color: #eee;
      /* ホバー背景色 */
      color: var(--accent-color);
      border-left-color: var(--accent-color);
      /* ホバー時にもボーダー表示 */
      text-decoration: none;
      /* 下線は不要 */
      opacity: 1;
      /* opacityは不要 */
  }

  #side-menu a:active {
      color: #999;
      border: none;
      /* active時のスタイルは不要かも */
  }

  /* JavaScriptで .active クラスを付与することを想定 */
  #side-menu li.active>a {
      color: var(--accent-color);
      font-weight: bold;
      border-left-color: var(--accent-color);
      background-color: #eaf4fc;
      /* アクティブ時の背景色 */
  }

  #sticky-navigator {
      line-height: 1.6;
      color: #555;
      font-size: 0.9em;
      margin-bottom: 48px;
      padding: 10px 0;
      /* 左右のpadding削除 */
      height: calc(100vh - var(--side-menu-top) - 100px);
      /* 高さを調整 */
      /*目次の高さ*/
      overflow-y: auto;
      /*目次がオーバーフローした場合、スクロールバーを出す*/
      border-left: 1px solid var(--border-color);
      /* 左に区切り線 */
      padding-left: 15px;
      /* 線との間に余白 */
  }

  #sticky-navigator h4 {
      /* 目次タイトル */
      font-size: 1.1em;
      margin: 0 0 10px 0;
      padding: 0;
      color: var(--heading-color);
      border: none;
      font-family: 'Roboto', sans-serif;
  }

  #sticky-navigator ul {
      padding: 0px;
      margin: 0;
  }

  #sticky-navigator ul li {
      list-style: none;
      line-height: 1.4;
      margin: 0;
      /* デフォルトマージンリセット */
  }

  /* 見出しレベルに応じたインデントは削除し、<a>のpaddingで調整 */
  #sticky-navigator ul li.nav-h3 {
      padding-top: 2px;
      padding-bottom: 2px;
  }

  #sticky-navigator ul li.nav-h4 {
      /* margin-left: 8px; */
      /* 不要 */
  }

  #sticky-navigator ul li.nav-h5 {
      /* margin-left: 16px; */
      /* 不要 */
  }

  #sticky-navigator ul li.current {
      background-color: transparent;
      /* currentクラスは不要かも */
  }

  /* トップに戻る関連 */
  #page-top {
      position: fixed;
      bottom: 32px;
      right: 30px;
      /* 右下に配置 */
      left: auto;
      /* left指定を解除 */
      z-index: 100;
      transition: opacity 0.3s ease, bottom 0.3s ease;
      /* opacityで表示/非表示 */
      opacity: 0;
      /* 初期状態は非表示 */
      pointer-events: none;
      /* 非表示時はクリック不可 */
  }

  #page-top.show {
      /* JavaScriptで表示時に .show を付与 */
      opacity: 1;
      pointer-events: auto;
  }

  #page-top a {
      background: var(--accent-color);
      color: #fff;
      width: 45px;
      /* 少し小さく */
      height: 45px;
      /* 正方形に */
      padding: 0;
      /* padding削除 */
      line-height: 45px;
      /* アイコン中央寄せ */
      text-align: center;
      display: block;
      border-radius: 50%;
      /* 円形に */
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      transition: background-color 0.2s ease;
  }

  #page-top a:hover {
      background-color: #2980b9;
      /* ホバー色 */
  }

  #page-top.hide {
      /* bottom: -100px; */
      /* bottomではなくopacityで制御 */
      opacity: 0;
      pointer-events: none;
  }

  /*ヘッダー*/
  #header {
      width: 100%;
      background-color: var(--header-bg);
      padding: 15px 0;
      /* 上下パディング */
      position: sticky;
      /* ヘッダーを固定 */
      top: 0;
      z-index: 1000;
      /* 他の要素より手前に */
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  #title {
      display: block;
      width: var(--out-width);
      margin: 0 auto;
      text-align: left;
      color: var(--header-text);
      font-size: 1.8em;
      /* 少し調整 */
      font-weight: bold;
      text-decoration: none;
      border: none;
      /* リンクの下線削除 */
      font-family: 'Roboto', sans-serif;
      /* 見出し用フォント */
  }

  #title:hover {
      opacity: 0.9;
      border: none;
  }

  /* コピーボタン */
  .fa-copy {
      color: #777;
  }